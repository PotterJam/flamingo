(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const kt=!1;var dt=Array.isArray,Nn=Array.prototype.indexOf,Pn=Array.from,Kt=Object.defineProperty,oe=Object.getOwnPropertyDescriptor,Ln=Object.getOwnPropertyDescriptors,An=Object.prototype,Rn=Array.prototype,zt=Object.getPrototypeOf,Tt=Object.isExtensible;const he=()=>{};function Fn(e){return e()}function ot(e){for(var t=0;t<e.length;t++)e[t]()}const B=2,Ht=4,ze=8,_t=16,Q=32,pe=64,qe=128,A=256,je=512,C=1024,V=2048,ie=4096,ge=8192,He=16384,In=32768,ht=65536,Mn=1<<17,Wn=1<<19,Xt=1<<20,at=1<<21,ae=Symbol("$state"),qn=Symbol("legacy props");function Jt(e){return e===this.v}function gt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function jn(e,t){return e!==t}function Zt(e){return!gt(e,this.v)}function Gn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Bn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function $n(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Un(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Vn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Kn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let we=!1,Hn=!1;function Xn(){we=!0}const Jn=2,Zn=1,Qn=2,T=Symbol();function Qt(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let m=null;function Dt(e){m=e}function Xe(e,t=!1,n){var r=m={p:m,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};we&&!t&&(m.l={s:null,u:null,r1:[],r2:wt(!1)}),Ze(()=>{r.d=!0})}function Je(e){const t=m;if(t!==null){e!==void 0&&(t.x=e);const s=t.e;if(s!==null){var n=E,r=y;t.e=null;try{for(var i=0;i<s.length;i++){var l=s[i];le(l.effect),K(l.reaction),yt(l.fn)}}finally{le(n),K(r)}}m=t.p,t.m=!0}return e||{}}function be(){return!we||m!==null&&m.l===null}function _e(e){if(typeof e!="object"||e===null||ae in e)return e;const t=zt(e);if(t!==An&&t!==Rn)return e;var n=new Map,r=dt(e),i=ne(0),l=y,s=o=>{var a=y;K(l);var u=o();return K(a),u};return r&&n.set("length",ne(e.length)),new Proxy(e,{defineProperty(o,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Vn();var d=n.get(a);return d===void 0?(d=s(()=>ne(u.value)),n.set(a,d)):h(d,s(()=>_e(u.value))),!0},deleteProperty(o,a){var u=n.get(a);if(u===void 0)a in o&&(n.set(a,s(()=>ne(T))),rt(i));else{if(r&&typeof a=="string"){var d=n.get("length"),f=Number(a);Number.isInteger(f)&&f<d.v&&h(d,f)}h(u,T),rt(i)}return!0},get(o,a,u){var _;if(a===ae)return e;var d=n.get(a),f=a in o;if(d===void 0&&(!f||(_=oe(o,a))!=null&&_.writable)&&(d=s(()=>ne(_e(f?o[a]:T))),n.set(a,d)),d!==void 0){var c=v(d);return c===T?void 0:c}return Reflect.get(o,a,u)},getOwnPropertyDescriptor(o,a){var u=Reflect.getOwnPropertyDescriptor(o,a);if(u&&"value"in u){var d=n.get(a);d&&(u.value=v(d))}else if(u===void 0){var f=n.get(a),c=f==null?void 0:f.v;if(f!==void 0&&c!==T)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(o,a){var c;if(a===ae)return!0;var u=n.get(a),d=u!==void 0&&u.v!==T||Reflect.has(o,a);if(u!==void 0||E!==null&&(!d||(c=oe(o,a))!=null&&c.writable)){u===void 0&&(u=s(()=>ne(d?_e(o[a]):T)),n.set(a,u));var f=v(u);if(f===T)return!1}return d},set(o,a,u,d){var k;var f=n.get(a),c=a in o;if(r&&a==="length")for(var _=u;_<f.v;_+=1){var b=n.get(_+"");b!==void 0?h(b,T):_ in o&&(b=s(()=>ne(T)),n.set(_+"",b))}f===void 0?(!c||(k=oe(o,a))!=null&&k.writable)&&(f=s(()=>ne(void 0)),h(f,s(()=>_e(u))),n.set(a,f)):(c=f.v!==T,h(f,s(()=>_e(u))));var w=Reflect.getOwnPropertyDescriptor(o,a);if(w!=null&&w.set&&w.set.call(d,u),!c){if(r&&typeof a=="string"){var W=n.get("length"),R=Number(a);Number.isInteger(R)&&R>=W.v&&h(W,R+1)}rt(i)}return!0},ownKeys(o){v(i);var a=Reflect.ownKeys(o).filter(f=>{var c=n.get(f);return c===void 0||c.v!==T});for(var[u,d]of n)d.v!==T&&!(u in o)&&a.push(u);return a},setPrototypeOf(){Kn()}})}function rt(e,t=1){h(e,e.v+t)}function pt(e){var t=B|V,n=y!==null&&(y.f&B)!==0?y:null;return E===null||n!==null&&(n.f&A)!==0?t|=A:E.f|=Xt,{ctx:m,deps:null,effects:null,equals:Jt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??E}}function ke(e){const t=pt(e);return t.equals=Zt,t}function en(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)fe(t[n])}}function er(e){for(var t=e.parent;t!==null;){if((t.f&B)===0)return t;t=t.parent}return null}function tn(e){var t,n=E;le(er(e));try{en(e),t=wn(e)}finally{le(n)}return t}function nn(e){var t=tn(e),n=(re||(e.f&A)!==0)&&e.deps!==null?ie:C;M(e,n),e.equals(t)||(e.v=t,e.wv=gn())}const Oe=new Map;function wt(e,t){var n={f:0,v:e,reactions:null,equals:Jt,rv:0,wv:0};return n}function ne(e,t){const n=wt(e);return dr(n),n}function G(e,t=!1){var r;const n=wt(e);return t||(n.equals=Zt),we&&m!==null&&m.l!==null&&((r=m.l).s??(r.s=[])).push(n),n}function Ot(e,t){return h(e,ce(()=>v(e))),t}function h(e,t,n=!1){y!==null&&!U&&be()&&(y.f&(B|_t))!==0&&!(O!=null&&O.includes(e))&&zn();let r=n?_e(t):t;return tr(e,r)}function tr(e,t){if(!e.equals(t)){var n=e.v;Pe?Oe.set(e,t):Oe.set(e,n),e.v=t,(e.f&B)!==0&&((e.f&V)!==0&&tn(e),M(e,(e.f&A)===0?C:ie)),e.wv=gn(),rn(e,V),be()&&E!==null&&(E.f&C)!==0&&(E.f&(Q|pe))===0&&(F===null?_r([e]):F.push(e))}return t}function rn(e,t){var n=e.reactions;if(n!==null)for(var r=be(),i=n.length,l=0;l<i;l++){var s=n[l],o=s.f;(o&V)===0&&(!r&&s===E||(M(s,t),(o&(C|A))!==0&&((o&B)!==0?rn(s,ie):tt(s))))}}var Ct,ln,sn,on;function nr(){if(Ct===void 0){Ct=window,ln=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;sn=oe(t,"firstChild").get,on=oe(t,"nextSibling").get,Tt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Tt(n)&&(n.__t=void 0)}}function rr(e=""){return document.createTextNode(e)}function Ge(e){return sn.call(e)}function bt(e){return on.call(e)}function N(e,t){return Ge(e)}function lr(e,t){{var n=Ge(e);return n instanceof Comment&&n.data===""?bt(n):n}}function Z(e,t=1,n=!1){let r=e;for(;t--;)r=bt(r);return r}function an(e){E===null&&y===null&&Bn(),y!==null&&(y.f&A)!==0&&E===null&&Yn(),Pe&&Gn()}function ir(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ye(e,t,n,r=!0){var i=E,l={ctx:m,deps:null,nodes_start:null,nodes_end:null,f:e|V,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{et(l),l.f|=In}catch(a){throw fe(l),a}else t!==null&&tt(l);var s=n&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Xt|qe))===0;if(!s&&r&&(i!==null&&ir(l,i),y!==null&&(y.f&B)!==0)){var o=y;(o.effects??(o.effects=[])).push(l)}return l}function Ze(e){const t=ye(ze,null,!1);return M(t,C),t.teardown=e,t}function ut(e){an();var t=E!==null&&(E.f&Q)!==0&&m!==null&&!m.m;if(t){var n=m;(n.e??(n.e=[])).push({fn:e,effect:E,reaction:y})}else{var r=yt(e);return r}}function sr(e){return an(),Ne(e)}function or(e){const t=ye(pe,e,!0);return(n={})=>new Promise(r=>{n.outro?Be(t,()=>{fe(t),r(void 0)}):(fe(t),r(void 0))})}function yt(e){return ye(Ht,e,!1)}function Nt(e,t){var n=m,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ne(()=>{e(),!r.ran&&(r.ran=!0,h(n.l.r2,!0),ce(t))})}function ar(){var e=m;Ne(()=>{if(v(e.l.r2)){for(var t of e.l.r1){var n=t.effect;(n.f&C)!==0&&M(n,ie),me(n)&&et(n),t.ran=!1}e.l.r2.v=!1}})}function Ne(e){return ye(ze,e,!0)}function Ce(e,t=[],n=pt){const r=t.map(n);return mt(()=>e(...r.map(v)))}function mt(e,t=0){return ye(ze|_t|t,e,!0)}function Ye(e,t=!0){return ye(ze|Q,e,!0,t)}function un(e){var t=e.teardown;if(t!==null){const n=Pe,r=y;Lt(!0),K(null);try{t.call(null)}finally{Lt(n),K(r)}}}function fn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&pe)!==0?n.parent=null:fe(n,t),n=r}}function ur(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Q)===0&&fe(t),t=n}}function fe(e,t=!0){var n=!1;(t||(e.f&Wn)!==0)&&e.nodes_start!==null&&(fr(e.nodes_start,e.nodes_end),n=!0),fn(e,t&&!n),Ke(e,0),M(e,He);var r=e.transitions;if(r!==null)for(const l of r)l.stop();un(e);var i=e.parent;i!==null&&i.first!==null&&cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function fr(e,t){for(;e!==null;){var n=e===t?null:bt(e);e.remove(),e=n}}function cn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Be(e,t){var n=[];vn(e,n,!0),cr(n,()=>{fe(e),t&&t()})}function cr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function vn(e,t,n){if((e.f&ge)===0){if(e.f^=ge,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&ht)!==0||(r.f&Q)!==0;vn(r,t,l?n:!1),r=i}}}function Pt(e){dn(e,!0)}function dn(e,t){if((e.f&ge)!==0){e.f^=ge,(e.f&C)===0&&(e.f^=C),me(e)&&(M(e,V),tt(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&ht)!==0||(n.f&Q)!==0;dn(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let $e=[];function vr(){var e=$e;$e=[],ot(e)}function _n(e){$e.length===0&&queueMicrotask(vr),$e.push(e)}let Ie=!1,ft=!1,Ue=null,ue=!1,Pe=!1;function Lt(e){Pe=e}let Me=[];let y=null,U=!1;function K(e){y=e}let E=null;function le(e){E=e}let O=null;function dr(e){y!==null&&y.f&at&&(O===null?O=[e]:O.push(e))}let D=null,L=0,F=null;function _r(e){F=e}let hn=1,Ve=0,re=!1;function gn(){return++hn}function me(e){var f;var t=e.f;if((t&V)!==0)return!0;if((t&ie)!==0){var n=e.deps,r=(t&A)!==0;if(n!==null){var i,l,s=(t&je)!==0,o=r&&E!==null&&!re,a=n.length;if(s||o){var u=e,d=u.parent;for(i=0;i<a;i++)l=n[i],(s||!((f=l==null?void 0:l.reactions)!=null&&f.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);s&&(u.f^=je),o&&d!==null&&(d.f&A)===0&&(u.f^=A)}for(i=0;i<a;i++)if(l=n[i],me(l)&&nn(l),l.wv>e.wv)return!0}(!r||E!==null&&!re)&&M(e,C)}return!1}function hr(e,t){for(var n=t;n!==null;){if((n.f&qe)!==0)try{n.fn(e);return}catch{n.f^=qe}n=n.parent}throw Ie=!1,e}function At(e){return(e.f&He)===0&&(e.parent===null||(e.parent.f&qe)===0)}function Qe(e,t,n,r){if(Ie){if(n===null&&(Ie=!1),At(t))throw e;return}if(n!==null&&(Ie=!0),hr(e,t),At(t))throw e}function pn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];O!=null&&O.includes(e)||((l.f&B)!==0?pn(l,t,!1):t===l&&(n?M(l,V):(l.f&C)!==0&&M(l,ie),tt(l)))}}function wn(e){var _;var t=D,n=L,r=F,i=y,l=re,s=O,o=m,a=U,u=e.f;D=null,L=0,F=null,re=(u&A)!==0&&(U||!ue||y===null),y=(u&(Q|pe))===0?e:null,O=null,Dt(e.ctx),U=!1,Ve++,e.f|=at;try{var d=(0,e.fn)(),f=e.deps;if(D!==null){var c;if(Ke(e,L),f!==null&&L>0)for(f.length=L+D.length,c=0;c<D.length;c++)f[L+c]=D[c];else e.deps=f=D;if(!re)for(c=L;c<f.length;c++)((_=f[c]).reactions??(_.reactions=[])).push(e)}else f!==null&&L<f.length&&(Ke(e,L),f.length=L);if(be()&&F!==null&&!U&&f!==null&&(e.f&(B|ie|V))===0)for(c=0;c<F.length;c++)pn(F[c],e);return i!==null&&i!==e&&(Ve++,F!==null&&(r===null?r=F:r.push(...F))),d}finally{D=t,L=n,F=r,y=i,re=l,O=s,Dt(o),U=a,e.f^=at}}function gr(e,t){let n=t.reactions;if(n!==null){var r=Nn.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&B)!==0&&(D===null||!D.includes(t))&&(M(t,ie),(t.f&(A|je))===0&&(t.f^=je),en(t),Ke(t,0))}function Ke(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)gr(e,n[r])}function et(e){var t=e.f;if((t&He)===0){M(e,C);var n=E,r=m,i=ue;E=e,ue=!0;try{(t&_t)!==0?ur(e):fn(e),un(e);var l=wn(e);e.teardown=typeof l=="function"?l:null,e.wv=hn;var s=e.deps,o;kt&&Hn&&e.f&V}catch(a){Qe(a,e,n,r||e.ctx)}finally{ue=i,E=n}}}function pr(){try{$n()}catch(e){if(Ue!==null)Qe(e,Ue,null);else throw e}}function wr(){var e=ue;try{var t=0;for(ue=!0;Me.length>0;){t++>1e3&&pr();var n=Me,r=n.length;Me=[];for(var i=0;i<r;i++){var l=yr(n[i]);br(l)}Oe.clear()}}finally{ft=!1,ue=e,Ue=null}}function br(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(He|ge))===0)try{me(r)&&(et(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?cn(r):r.fn=null))}catch(i){Qe(i,r,null,r.ctx)}}}function tt(e){ft||(ft=!0,queueMicrotask(wr));for(var t=Ue=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(pe|Q))!==0){if((n&C)===0)return;t.f^=C}}Me.push(t)}function yr(e){for(var t=[],n=e;n!==null;){var r=n.f,i=(r&(Q|pe))!==0,l=i&&(r&C)!==0;if(!l&&(r&ge)===0){if((r&Ht)!==0)t.push(n);else if(i)n.f^=C;else try{me(n)&&et(n)}catch(a){Qe(a,n,null,n.ctx)}var s=n.first;if(s!==null){n=s;continue}}var o=n.parent;for(n=n.next;n===null&&o!==null;)n=o.next,o=o.parent}return t}function v(e){var t=e.f,n=(t&B)!==0;if(y!==null&&!U){if(!(O!=null&&O.includes(e))){var r=y.deps;e.rv<Ve&&(e.rv=Ve,D===null&&r!==null&&r[L]===e?L++:D===null?D=[e]:(!re||!D.includes(e))&&D.push(e))}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&A)===0&&(i.f^=A)}return n&&(i=e,me(i)&&nn(i)),Pe&&Oe.has(e)?Oe.get(e):e.v}function ce(e){var t=U;try{return U=!0,e()}finally{U=t}}const mr=-7169;function M(e,t){e.f=e.f&mr|t}function Er(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ae in e)ct(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ae in n&&ct(n)}}}function ct(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ct(e[r],t)}catch{}const n=zt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ln(n);for(let i in r){const l=r[i].get;if(l)try{l.call(e)}catch{}}}}}const xr=["touchstart","touchmove"];function Sr(e){return xr.includes(e)}let Rt=!1;function kr(){Rt||(Rt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function bn(e){var t=y,n=E;K(null),le(null);try{return e()}finally{K(t),le(n)}}function Tr(e,t,n,r=n){e.addEventListener(t,()=>bn(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),kr()}const Dr=new Set,Ft=new Set;function Or(e,t,n,r={}){function i(l){if(r.capture||Se.call(t,l),!l.cancelBubble)return bn(()=>n==null?void 0:n.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_n(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function J(e,t,n,r,i){var l={capture:r,passive:i},s=Or(e,t,n,l);(t===document.body||t===window||t===document)&&Ze(()=>{t.removeEventListener(e,s,l)})}function Se(e){var k;var t=this,n=t.ownerDocument,r=e.type,i=((k=e.composedPath)==null?void 0:k.call(e))||[],l=i[0]||e.target,s=0,o=e.__root;if(o){var a=i.indexOf(o);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;a<=u&&(s=a)}if(l=i[s]||e.target,l!==t){Kt(e,"currentTarget",{configurable:!0,get(){return l||n}});var d=y,f=E;K(null),le(null);try{for(var c,_=[];l!==null;){var b=l.assignedSlot||l.parentNode||l.host||null;try{var w=l["__"+r];if(w!=null&&(!l.disabled||e.target===l))if(dt(w)){var[W,...R]=w;W.apply(l,[e,...R])}else w.call(l,e)}catch(z){c?_.push(z):c=z}if(e.cancelBubble||b===t||b===null)break;l=b}if(c){for(let z of _)queueMicrotask(()=>{throw z});throw c}}finally{e.__root=t,delete e.currentTarget,K(d),le(f)}}}function Cr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function It(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $(e,t){var n=(t&Zn)!==0,r=(t&Qn)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Cr(l?e:"<!>"+e),n||(i=Ge(i)));var s=r||ln?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Ge(s),a=s.lastChild;It(o,a)}else It(s,s);return s}}function Y(e,t){e!==null&&e.before(t)}function Te(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Nr(e,t){return Pr(e,t)}const ve=new Map;function Pr(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:s=!0}){nr();var o=new Set,a=f=>{for(var c=0;c<f.length;c++){var _=f[c];if(!o.has(_)){o.add(_);var b=Sr(_);t.addEventListener(_,Se,{passive:b});var w=ve.get(_);w===void 0?(document.addEventListener(_,Se,{passive:b}),ve.set(_,1)):ve.set(_,w+1)}}};a(Pn(Dr)),Ft.add(a);var u=void 0,d=or(()=>{var f=n??t.appendChild(rr());return Ye(()=>{if(l){Xe({});var c=m;c.c=l}i&&(r.$$events=i),u=e(f,r)||{},l&&Je()}),()=>{var b;for(var c of o){t.removeEventListener(c,Se);var _=ve.get(c);--_===0?(document.removeEventListener(c,Se),ve.delete(c)):ve.set(c,_)}Ft.delete(a),f!==n&&((b=f.parentNode)==null||b.removeChild(f))}});return Lr.set(u,d),u}let Lr=new WeakMap;function se(e,t,[n,r]=[0,0]){var i=e,l=null,s=null,o=T,a=n>0?ht:0,u=!1;const d=(c,_=!0)=>{u=!0,f(_,c)},f=(c,_)=>{o!==(o=c)&&(o?(l?Pt(l):_&&(l=Ye(()=>_(i))),s&&Be(s,()=>{s=null})):(s?Pt(s):_&&(s=Ye(()=>_(i,[n+1,r]))),l&&Be(l,()=>{l=null})))};mt(()=>{u=!1,t(d),u||f(null,null)},a)}function Ar(e,t,n){var r=e,i=T,l,s=be()?jn:gt;mt(()=>{s(i,i=t())&&(l&&Be(l),l=Ye(()=>n(r)))})}const Mt=[...` 	
\r\f \v\uFEFF`];function Rr(e,t,n){var r=""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var l=i.length,s=0;(s=r.indexOf(i,s))>=0;){var o=s+l;(s===0||Mt.includes(r[s-1]))&&(o===r.length||Mt.includes(r[o]))?r=(s===0?"":r.substring(0,s))+r.substring(o+1):s=o}}return r===""?null:r}function Fr(e,t,n,r,i,l){var s=e.__className;if(s!==n||s===void 0){var o=Rr(n,r,l);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(l&&i!==l)for(var a in l){var u=!!l[a];(i==null||u!==!!i[a])&&e.classList.toggle(a,u)}return l}function Ir(e,t,n=t){var r=be();Tr(e,"input",i=>{var l=i?e.defaultValue:e.value;if(l=lt(e)?it(l):l,n(l),r&&l!==(l=t())){var s=e.selectionStart,o=e.selectionEnd;e.value=l??"",o!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(o,e.value.length))}}),ce(t)==null&&e.value&&n(lt(e)?it(e.value):e.value),Ne(()=>{var i=t();lt(e)&&i===it(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function lt(e){var t=e.type;return t==="number"||t==="range"}function it(e){return e===""?null:+e}function Wt(e,t,n){var r=oe(e,t);r&&r.set&&(e[t]=n,Ze(()=>{e[t]=null}))}function qt(e,t){return e===t||(e==null?void 0:e[ae])===t}function yn(e={},t,n,r){return yt(()=>{var i,l;return Ne(()=>{i=l,l=[],ce(()=>{e!==n(...l)&&(t(e,...l),i&&qt(n(...i),e)&&t(null,...i))})}),()=>{_n(()=>{l&&qt(n(...l),e)&&t(null,...l)})}}),e}function Mr(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function Et(e=!1){const t=m,n=t.l.u;if(!n)return;let r=()=>Er(t.s);if(e){let i=0,l={};const s=pt(()=>{let o=!1;const a=t.s;for(const u in a)a[u]!==l[u]&&(l[u]=a[u],o=!0);return o&&i++,i});r=()=>v(s)}n.b.length&&sr(()=>{jt(t,r),ot(n.b)}),ut(()=>{const i=ce(()=>n.m.map(Fn));return()=>{for(const l of i)typeof l=="function"&&l()}}),n.a.length&&ut(()=>{jt(t,r),ot(n.a)})}function jt(e,t){if(e.l.s)for(const n of e.l.s)v(n);t()}function mn(e,t,n){if(e==null)return t(void 0),he;const r=ce(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const de=[];function xt(e,t=he){let n=null;const r=new Set;function i(o){if(gt(e,o)&&(e=o,n)){const a=!de.length;for(const u of r)u[1](),de.push(u,e);if(a){for(let u=0;u<de.length;u+=2)de[u][0](de[u+1]);de.length=0}}}function l(o){i(o(e))}function s(o,a=he){const u=[o,a];return r.add(u),r.size===1&&(n=t(i,l)||he),o(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:s}}function Wr(e){let t;return mn(e,n=>t=n)(),t}let Fe=!1,vt=Symbol();function Gt(e,t,n){const r=n[t]??(n[t]={store:null,source:G(void 0),unsubscribe:he});if(r.store!==e&&!(vt in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=he;else{var i=!0;r.unsubscribe=mn(e,l=>{i?r.source.v=l:h(r.source,l)}),i=!1}return e&&vt in n?Wr(e):v(r.source)}function qr(){const e={};function t(){Ze(()=>{for(var n in e)e[n].unsubscribe();Kt(e,vt,{enumerable:!1,value:!0})})}return[e,t]}function jr(e){var t=Fe;try{return Fe=!1,[e(),Fe]}finally{Fe=t}}function De(e,t,n,r){var b;var i=!we||(n&Jn)!==0,l=!1,s;[s,l]=jr(()=>e[t]);var o=ae in e||qn in e,a=(((b=oe(e,t))==null?void 0:b.set)??(o&&t in e&&(w=>e[t]=w)))||void 0,u=r,d=!0,f=()=>(d&&(d=!1,u=r),u);s===void 0&&r!==void 0&&(a&&i&&Un(),s=f(),a&&a(s));var c;if(i)c=()=>{var w=e[t];return w===void 0?f():(d=!0,w)};else{var _=ke(()=>e[t]);_.f|=Mn,c=()=>{var w=v(_);return w!==void 0&&(u=void 0),w===void 0?u:w}}return c}function En(e){m===null&&Qt(),we&&m.l!==null?Yr(m).m.push(e):ut(()=>{const t=ce(e);if(typeof t=="function")return t})}function Gr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function xn(){const e=m;return e===null&&Qt(),(t,n,r)=>{var l;const i=(l=e.s.$$events)==null?void 0:l[t];if(i){const s=dt(i)?i.slice():[i],o=Gr(t,n,r);for(const a of s)a.call(e.x,o);return!o.defaultPrevented}return!0}}function Yr(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Br="5";var Vt;typeof window<"u"&&((Vt=window.__svelte??(window.__svelte={})).v??(Vt.v=new Set)).add(Br);Xn();const st=xt(null),We=xt(!1),Sn=xt(null);let I=null;const Yt="ws://localhost:8080/ws";function $r(){if(I&&(I.readyState===WebSocket.OPEN||I.readyState===WebSocket.CONNECTING)){console.log("WebSocket already open or connecting.");return}console.log("Attempting to connect WebSocket to:",Yt),I=new WebSocket(Yt),st.set(I),I.onopen=()=>{console.log("WebSocket connection established."),We.set(!0)},I.onmessage=e=>{try{const t=JSON.parse(e.data);console.log("Message received:",t),Sn.set(t)}catch(t){console.error("Error parsing WebSocket message:",t,e.data)}},I.onerror=e=>{console.error("WebSocket error:",e),We.set(!1),st.set(null)},I.onclose=e=>{console.log("WebSocket connection closed:",e.code,e.reason),We.set(!1),st.set(null)}}function Bt(e,t){if(I&&I.readyState===WebSocket.OPEN){const n=JSON.stringify({type:e,payload:t});console.log("Sending message:",n),I.send(n)}else console.error("WebSocket is not connected. Cannot send message.")}var Ur=$('<canvas class="w-full h-full block bg-white cursor-crosshair">Your browser does not support the HTML canvas element.</canvas>');function Vr(e,t){Xe(t,!1);let n=De(t,"isDrawer",8,!1);const r=xn();let i=G(),l,s=!1,o=0,a=0,u=!1,d=0,f=0,c="#000000",_=3;En(()=>(l=v(i).getContext("2d"),b(),window.addEventListener("resize",b),l.lineCap="round",l.lineJoin="round",Ee(),()=>{window.removeEventListener("resize",b)}));function b(){const g=v(i).parentElement;if(!g||!l){console.warn("Canvas parent or context not available for resize.");return}const{width:x}=g.getBoundingClientRect(),H=x*9/16;let q=null;try{v(i).width>0&&v(i).height>0&&(q=l.getImageData(0,0,v(i).width,v(i).height))}catch(j){console.error("Error getting canvas image data:",j)}if(Ot(i,v(i).width=x),Ot(i,v(i).height=H),l.lineCap="round",l.lineJoin="round",l.lineWidth=_,l.strokeStyle=c,q){const j=document.createElement("canvas");j.width=q.width,j.height=q.height,j.getContext("2d").putImageData(q,0,0),l.drawImage(j,0,0,v(i).width,v(i).height)}else Ee()}function w(g){const x=v(i).getBoundingClientRect(),H=g.touches?g.touches[0].clientX:g.clientX,q=g.touches?g.touches[0].clientY:g.clientY;return{x:H-x.left,y:q-x.top}}function W(g){if(!n())return;s=!0;const x=w(g);[o,a]=[x.x,x.y],r("draw",{eventType:"start",x:x.x,y:x.y,color:c,lineWidth:_}),g.preventDefault()}function R(g){if(!n()||!s)return;const x=w(g);Le(l,o,a,x.x,x.y,c,_),r("draw",{eventType:"draw",x:x.x,y:x.y,color:c,lineWidth:_}),[o,a]=[x.x,x.y],g.preventDefault()}function k(){!n()||!s||(s=!1,r("draw",{eventType:"end"}))}function z(g){if(n()||!l)return;const x=g.color||"#000000",H=g.lineWidth||3;g.eventType==="start"?(u=!0,[d,f]=[g.x,g.y]):g.eventType==="draw"&&u?(Le(l,d,f,g.x,g.y,x,H),[d,f]=[g.x,g.y]):g.eventType==="end"&&(u=!1)}function Le(g,x,H,q,j,Ae,Re){g&&(g.beginPath(),g.strokeStyle=Ae,g.lineWidth=Re,g.moveTo(x,H),g.lineTo(q,j),g.stroke(),g.closePath())}function Ee(){l&&(l.fillStyle="#FFFFFF",l.fillRect(0,0,v(i).width,v(i).height))}function p(){Ee()}Et();var P=Ur();return yn(P,g=>h(i,g),()=>v(i)),J("mousedown",P,W),J("mousemove",P,R),J("mouseup",P,k),J("mouseleave",P,k),J("touchstart",P,W),J("touchmove",P,R),J("touchend",P,k),J("touchcancel",P,k),Y(e,P),Wt(t,"handleDrawEvent",z),Wt(t,"clearCanvas",p),Je({handleDrawEvent:z,clearCanvas:p})}var Kr=$("<span> </span>"),zr=$('<span class="mr-2"> </span> <span class="text-sm text-gray-600"> </span>',1),Hr=$('<span class="text-gray-400">&nbsp;</span>'),Xr=$('<div class="text-2xl lg:text-3xl font-semibold tracking-widest text-center p-2 rounded bg-gray-200 min-h-[3rem] flex items-center justify-center select-none"><!></div>');function $t(e,t){let n=De(t,"word",8,""),r=De(t,"blanks",8,""),i=De(t,"length",8,0);var l=Xr(),s=N(l);{var o=u=>{var d=Kr(),f=N(d);Ce(()=>Te(f,n())),Y(u,d)},a=(u,d)=>{{var f=_=>{var b=zr(),w=lr(b),W=N(w),R=Z(w,2),k=N(R);Ce(()=>{Te(W,r()),Te(k,`(${i()??""} letters)`)}),Y(_,b)},c=_=>{var b=Hr();Y(_,b)};se(u,_=>{r()?_(f):_(c,!1)},d)}};se(s,u=>{n()?u(o):u(a,!1)})}Y(e,l)}var Jr=$('<form class="flex gap-2"><input type="text" placeholder="Enter your guess" maxlength="50" class="flex-grow p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150 ease-in-out" aria-label="Enter your guess"> <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed">Guess</button></form>');function Zr(e,t){Xe(t,!1);const n=xn();let r=G("");function i(){const a=v(r).trim();a&&(n("guess",a),h(r,""))}Et();var l=Jr(),s=N(l),o=Z(s,2);Ce(a=>o.disabled=a,[()=>!v(r).trim()],ke),Ir(s,()=>v(r),a=>h(r,a)),J("submit",l,Mr(i)),Y(e,l),Je()}var Qr=$('<div class="text-base lg:text-lg text-gray-700 min-h-[1.5rem] text-center transition-all duration-200"> </div>');function Ut(e,t){let n=De(t,"message",8,"");var r=Qr(),i=N(r);Ce(()=>Te(i,n()||"&nbsp;")),Y(e,r)}var el=$('<div class="h-8"></div>'),tl=$('<div><p class="font-semibold">Game Over!</p> <p>The word was: <span class="font-bold"> </span></p></div>'),nl=$('<div class="w-full max-w-2xl bg-white shadow-lg rounded-lg p-6"><div class="mb-4 text-center"><!></div> <div class="mb-4 border-2 border-black rounded overflow-hidden aspect-video bg-white"><!></div> <div class="mb-4 text-center"><!></div> <!> <!></div>'),rl=$('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4 font-sans"><h1 class="text-3xl font-bold mb-4 text-blue-600">Simple Scribblio</h1> <!></main>');function ll(e,t){Xe(t,!1);const[n,r]=qr(),i=()=>Gt(We,"$wsConnected",n),l=()=>Gt(Sn,"$lastMessage",n);let s=G("connecting"),o=G(null),a=G(""),u=G(0),d=G(null),f=G("Connecting to server..."),c=G(Date.now()),_=G();En(()=>{$r()});function b(p){switch(console.log("Handling message in App.svelte:",p),p.type){case"waiting":h(s,"waiting"),h(f,"Waiting for another player..."),h(o,null),h(d,null),h(c,Date.now());break;case"assignRole":h(o,p.payload.role),v(o)==="drawer"?(h(a,p.payload.word),h(u,0),h(s,"drawing"),h(f,"You are the Drawer! Draw the word.")):v(o)==="guesser"&&(h(a,""),h(u,p.payload.wordLength),h(s,"guessing"),h(f,"You are the Guesser! Guess the drawing.")),h(d,null),h(c,Date.now());break;case"drawEvent":v(s)==="guessing"&&v(_)&&v(_).handleDrawEvent(p.payload);break;case"guessResult":v(s)==="guessing"&&h(f,`Guess '${p.payload.guess}': Incorrect. Keep trying!`);break;case"gameOver":h(s,"gameOver"),h(d,p.payload),v(o)==="guesser"&&p.payload.correct?h(f,`Correct! The word was "${p.payload.word}". Game Over!`):v(o)==="drawer"&&p.payload.correct?h(f,`The word "${p.payload.word}" was guessed! Game Over!`):h(f,`Game Over! The word was "${p.payload.word}".`);break;case"playerLeft":h(s,"waiting"),h(f,"Your opponent disconnected. Waiting for a new player..."),h(o,null),h(a,""),h(u,0),h(d,null),h(c,Date.now());break;case"error":h(f,`Server Error: ${p.payload.message}`);break;default:console.warn("Received unhandled message type in App.svelte:",p.type)}}function w(p){v(s)==="drawing"&&Bt("drawEvent",p)}function W(p){v(s)==="guessing"&&Bt("guess",{guess:p})}function R(p){return p<=0?"":Array(p).fill("_").join(" ")}Nt(()=>(i(),v(s)),()=>{i()?v(s):v(s)!=="connecting"&&(h(s,"connecting"),h(f,"Disconnected. Trying to reconnect..."),h(o,null),h(a,""),h(u,0),h(d,null))}),Nt(()=>l(),()=>{l()&&b(l())}),ar(),Et();var k=rl(),z=Z(N(k),2);{var Le=p=>{var P=nl(),g=N(P),x=N(g);{var H=S=>{$t(S,{get word(){return v(a)}})},q=(S,X)=>{{var ee=te=>{const xe=ke(()=>R(v(u)));$t(te,{get blanks(){return v(xe)},get length(){return v(u)}})},nt=te=>{var xe=el();Y(te,xe)};se(S,te=>{v(o)==="guesser"?te(ee):te(nt,!1)},X)}};se(x,S=>{v(o)==="drawer"?S(H):S(q,!1)})}var j=Z(g,2),Ae=N(j);Ar(Ae,()=>v(c),S=>{const X=ke(()=>v(o)==="drawer");yn(Vr(S,{get isDrawer(){return v(X)},$$events:{draw:ee=>w(ee.detail)},$$legacy:!0}),ee=>h(_,ee),()=>v(_))});var Re=Z(j,2),kn=N(Re);Ut(kn,{get message(){return v(f)}});var St=Z(Re,2);{var Tn=S=>{Zr(S,{$$events:{guess:X=>W(X.detail)}})};se(St,S=>{v(o)==="guesser"&&v(s)==="guessing"&&S(Tn)})}var Dn=Z(St,2);{var On=S=>{var X=tl();let ee;var nt=Z(N(X),2),te=Z(N(nt)),xe=N(te);Ce(Cn=>{ee=Fr(X,1,"mt-4 p-4 rounded text-center",null,ee,Cn),Te(xe,v(d).word)},[()=>({"bg-green-100":v(d).correct,"text-green-700":v(d).correct,"bg-red-100":!v(d).correct,"text-red-700":!v(d).correct})],ke),Y(S,X)};se(Dn,S=>{v(s)==="gameOver"&&v(d)&&S(On)})}Y(p,P)},Ee=p=>{Ut(p,{get message(){return v(f)}})};se(z,p=>{i()?p(Le):p(Ee,!1)})}Y(e,k),Je(),r()}Nr(ll,{target:document.getElementById("app")});
